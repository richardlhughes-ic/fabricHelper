{
  "type": "Microsoft.Logic/workflows",
  "apiVersion": "2017-07-01",
  "name": "[parameters('logicAppName')]",
  "location": "[parameters('location')]",
  "identity": {
    "type": "SystemAssigned"
  },
  "properties": {
    "state": "Enabled",
    "definition": {
      // Definition schema and parameters as before
      "actions": {
        "AssignToCapacityHTTP": {
          "runAfter": {},
          "type": "Http",
          "inputs": {
            "authentication": {
              "audience": "https://api.fabric.microsoft.com/",
              "type": "ManagedServiceIdentity"
            },
            "method": "POST",
            "uri": "https://api.fabric.microsoft.com/v1/workspaces/@{parameters('workspaceId')}/assignToCapacity",
            "body": {
              "capacityId": "@{parameters('capacityId')}"
            },
            "headers": {
              "Content-Type": "application/json"
            }
          }
        }
      }
    }
  }
}
